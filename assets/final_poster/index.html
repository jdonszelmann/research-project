<html id="html">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="css/phone.css">
        <link rel="stylesheet" href="css/common.css">
        <link rel="stylesheet" href="css/desktop.css">
        <link rel="stylesheet" href="css/columns.css">
        <link rel="stylesheet" href="css/poster.css">
<!--        <link rel="stylesheet" href="css/presentation.css">-->

        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>M* MAPFM</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <script src="js/dom-to-image.js"></script>
        <script src="js/pres_mode.js"></script>
    </head>

    <div id="waiting-screen">
        <h1>Creating poster...</h1>
    </div>

    <body id="body">
        <div id="header">
            <div class="no-mobile-only download_button" onclick="do_print()">Download poster</div>
            <div class="tudelft">
                <h1 class="no-mobile-only" onclick="location.href = 'https://tudelft.nl';">TU Delft</h1>

                <div id="interactive-version" class="poster_only">
                    An interactive version of this poster can be found at <a>https://mapfm-poster.jdonszelmann.nl</a>
                </div>
            </div>

            <div id="title">
                <h1>Matching in Multi-Agent Pathfinding using M*</h1>
                <div id="author-parent">
                    <div class="author" onclick="location.href = 'mailto://J.B.donszelmann@student.tudelft.nl';">Jonathan DÃ¶nselmann <span>&lt;J.B.donszelmann@student.tudelft.nl&gt;</span></div>
                </div>
            </div>

            <div id="names">
                <div>
                    <div>Supervisors:</div>
                    <div class="nameitem" onclick="location.href = 'mailto://M.M.deWeerdt@tudelft.nl';"><span>Mathijs de Weerdt</span> <span class="email">&lt;M.M.deWeerdt@tudelft.nl&gt;</span></div>
                    <div class="nameitem" onclick="location.href = 'mailto://J.Mulderij@tudelft.nl';"><span>Jesse Mulderij</span> <span class="email">&lt;J.Mulderij@tudelft.nl&gt;</span></div>
                </div>
            </div>

            <h1 class="mobile-only tudelft web_only">TU Delft</h1>
            <div class="mobile-only download_button web_only" onclick="do_print()">Download poster</div>
        </div>

        <div id="content">
            <div class="content-item">

                <div class="block">
                    <h2>Multi-agent pathfinding</h2>
                    <div class="threecolimg poster_only">
                        <figure>
                            <img src="assets/multi_agent_pathfinding_start.png" class="mapf-image">
                            <figcaption>A start state</figcaption>
                        </figure>
                        <figure>
                            <img src="assets/multi_agent_pathfinding_end.png" class="mapf-image">
                            <figcaption>A goal state</figcaption>
                        </figure>
                        <figure>
                            <img src="assets/multi_agent_pathfinding_illegal.png" class="mapf-image redborder">
                            <figcaption>An illegal action</figcaption>
                        </figure>
                    </div>
                    <div class="twocolimg web_only rounded">
                        <figure>
                            <div class="gif">
                                <img src="assets/multi-agent-pathfinding.gif" class="mapf-image dynamic">
                                <img src="assets/multi-agent-pathfinding-static.png" class="mapf-image static">
                                <figcaption>A solution to MAPF</figcaption>
                            </div>
                        </figure>

                        <figure>
                            <div class="gif" style="width: 100%">
                                <img src="assets/multi-agent-pathfinding-illegal.gif" class="dynamic redborder">
                                <img src="assets/multi-agent-pathfinding-illegal-static.png" class="static redborder">
                            </div>
                            <figcaption>An invalid solution to MAPF</figcaption>
                        </figure>
                    </div>


                    <p>
                        Multi agent pathfinding (MAPF) is finding collision-free paths for multiple agents.
                    </p>
                </div>

                <div class="block">
                    <h2>Matching in MAPF</h2>

                    <figure class="web_only">
                        <div class="gif rounded">
                            <img src="assets/matchings.gif" class="mapf-image dynamic">
                            <img src="assets/matchings-static.png" class="mapf-image static">
                            <figcaption>All matchings between two sets of 3 nodes</figcaption>
                        </div>
                    </figure>

                    <div class="twocolimg poster_only">
                        <figure>
                            <img src="assets/matchings-one.png" class="mapf-image">
                            <figcaption>A trivial matching</figcaption>
                        </figure>
                        <figure>
                            <img src="assets/matchings-two.png" class="mapf-image">
                            <figcaption>A more complex matching</figcaption>
                        </figure>
                    </div>

                    <p>
                        Grouping agents in MAPF into teams gives MAPFM, MAPF with matching.
                        Agents travel to one their team's goals.
                        An assignment from agents to goals is called a matching.
                    </p>

                    <div class="twocolimg web_only rounded">
                        <figure>
                            <div class="gif">
                                <img src="assets/MAPF-matching-long.gif" class="mapf-image dynamic">
                                <img src="assets/MAPF-matching-long-static.png" class="mapf-image static">
                                <figcaption>A possible matching</figcaption>
                            </div>
                        </figure>

                        <figure>
                            <div class="gif" style="width: 100%">
                                <img src="assets/MAPF-matching-short.gif" class="dynamic">
                                <img src="assets/MAPF-matching-short-static.png" class="static">
                            </div>
                            <figcaption>A shorter matching</figcaption>
                        </figure>
                    </div>
                    <div class="twocolimg poster_only">

                        <figure>
                            <img src="assets/mapf-matching-two.png" class="mapf-image">
                            <figcaption>A possible matching</figcaption>
                        </figure>
                        <figure>
                            <img src="assets/mapf-matching-one.png" class="mapf-image">
                            <figcaption>Another, shorter, matching</figcaption>
                        </figure>
                    </div>
                    <p></p>
                </div>
            </div>
            <div class="content-item">
                <div class="block">
                    <h2>M*</h2>
                    <ul>
                        <li>
                            A complete and optimal algorithm to solve MAPF instances.
                        </li>
                        <li>
                            Derived from A*.
                        </li>
                        <li>
                            Tries to separate the planning of agents as much as possible.
                        </li>
                    </ul>
                </div>
                <div class="block">
                    <h2>Inmatching</h2>
                    <figure class="web_only">
                        <div class="gif rounded">
                            <img src="assets/inmatchings.gif" class="mapf-image dynamic">
                            <img src="assets/inmatchings-static.png" class="mapf-image static">
                        </div>
                    </figure>


                    <figure class="poster_only center-img">
                        <img src="assets/inmatchings-one.png" class="mapf-image">
                    </figure>

                    <p>
                    Inmatching evaluates all matchings simultaneously.
                    </p>
                </div>
                <div class="block">
                    <h2>Prematching</h2>
                    <figure class="web_only">
                        <div class="gif rounded">
                            <img src="assets/prematchings.gif" class="mapf-image dynamic">
                            <img src="assets/prematchings-static.png" class="mapf-image static">
                        </div>
                    </figure>

                    <div class="threecolimg poster_only">
                        <figure>
                            <img src="assets/prematchings-one.png" class="mapf-image">
                        </figure>
                        <figure>
                            <img src="assets/prematchings-two.png" class="mapf-image">
                        </figure>
                        <figure>
                            <img src="assets/prematchings-three.png" class="mapf-image redborder">
                        </figure>
                    </div>

                    <p>
                        Agents search a path to only one of their goals at a time.
                        All possible assignments of agents to goals are considered.
                    </p>
                </div>
            </div>
            <div class="content-item">
                <div class="block">
                    <h2>Results</h2>

                    <div class="center-img">
                        <figure>
                            <img src="assets/graph_inmatch_vs_prematch.png" class="mapf-image">
                        </figure>
                        <figure>
                            <img src="assets/graph_extensions.png" class="mapf-image">
                        </figure>
                        <figure>
                            <img src="assets/graph_comparison.png" class="mapf-image redborder">
                        </figure>
                    </div>

                    <p>
                        Graphs display percentage solved in 2 minutes out of 200 20x20 maps, 25% filled with obstacles.
                        Agents are split over 3 teams. All maps are guaranteed to be theoretically solvable.
                    </p>
                </div>
                <div class="block">
                    <h2>Conclusion</h2>

                    <p>
                        <ul>
                            <li>
                                Prematching is generally preferable to Inmatching.
                            </li>
                            <li>
                                Several extensions to M* and to prematching can improve the performance of M*.
                            </li>
                            <li>
                                The performance of M* is comparable to that of other A* derived algorithms.
                            </li>
                        </ul>
                    </p>
                </div>

                <div class="block">
                    <p>
                        Complete explanations, results and conclusions can be found at
                        <a href="https://mapf-poster.jdonszelmann.nl/paper">
                            https://mapf-poster.jdonszelmann.nl/paper</a>.
                    </p>
                </div>
            </div>
        </div>

        <script>
            function mobileCheck() {
              return window.innerWidth < window.innerHeight;
            }

            function resize() {
                if (mobileCheck()) {
                    document.getElementById("html").classList.add("mobile");
                } else {
                    document.getElementById("html").classList.remove("mobile");
                }
            }
            window.addEventListener("resize", resize);
            resize();

            async function do_print() {
                const body = document.getElementById("body");
                const html = document.getElementById("html");

                const waiting = document.getElementById("waiting-screen")
                waiting.style.display = "flex"

                html.classList.remove("mobile");

                body.classList.add("poster")

                const dataUrl = await domtoimage.toPng(body, {
                    filter: i => i != waiting
                })

                body.classList.remove("poster")

                const link = document.createElement('a');
                link.download = 'poster.png';
                link.href = dataUrl;
                link.click();

                resize();

                waiting.style.display = "none"
            }
        </script>
    </body>
</html>


